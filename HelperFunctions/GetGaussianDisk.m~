function [tex]= GetGaussianDisk(imSize, decay, luminance)
global screen
Add2StimLogList();

if size(imSize,2)==1
    imSize = [imSize imSize];
end

%make linear ramp
X = (-imSize(1)/2:imSize(1)/2)';                           % X is a vector from 1 to imageSize
Y = -imSize(2)/2:imSize(2)/2;


%Make a gaussian mask
%Make 2D gaussian blob
gauss1D = normpdf(X,0, 100/decay);%/imSize);
gauss1D = gauss1D/max(gauss1D);

% make the grating for the texture
grating = ones(imSize(1)+1, imSize(2)+1, 2)*luminance;
grating(:,:,2) = 255-round(255*(gaussX*gaussY));

if (isfield(screen, 'w'))
    tex = Screen('MakeTexture', screen.w, grating);
else
    tex = [];
    
end
