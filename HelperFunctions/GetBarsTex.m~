function Tex = GetBarsTex(stimSize, barsWidth, Contrast, varargin)
    global screen
    
    %%%%%%%%%%%%%%%%%%%%%%%% Variable Input %%%%%%%%%%%%%%%%%%%%%%%
    p  = inputParser;   % Create an instance of the inputParser class.

    p.addParamValue('GaussMask', 0, @(x) x==0 || x==1);
    
    p.parse(varargin{:});
    

    GaussMask = p.Results.GaussMask;
    %%%%%%%%%%%%%%%%%%%%%%%% Variable Input %%%%%%%%%%%%%%%%%%%%%%%
    
    InitScreen(0);

    x = 0:stimSize-1;
    
    bars = ceil(mod(floor(x/barsWidth),2)*2*screen.gray*Contrast...
        + screen.gray*(1-Contrast));
    Tex{1} = Screen('MakeTexture', screen.w, bars);
end

