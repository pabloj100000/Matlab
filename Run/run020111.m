function run020111()
CreateStimuliLogStart();

global pdStim;

% Define the rectangles
[centerX, centerY] = Screen('WindowSize', max(Screen('Screens')));
center1 =[centerX centerY]/2;
objRect1 = GetRects(192, center1);

diameters = ones(1,4)*192/2;
centers = ones(4,1)*[488 416 488 416];
centers = centers + 192/4* ...
    [-1 -1 -1 -1; ...
    -1 1 -1 1; ...
    1 -1 1 -1; ...
    1 1 1 1];
objRects = GetRects(diameters, centers);
%objRects = [objRect1; objRects];

Wait2Start()
% record for 1000 + 200*2 + 2000*2 + 4000 = 9400 seconds

pdStim = -1;


pdStim = pdStim+1;
pause(1)
RF( ...
    'movieDurationSecs', 1000, ...
    'barsWidth',16, ...
    'objContrast',1, ...
    'waitFrames', 1 ...
    );
%}
    backSeed = 2;
    sizesStream = RandStream('mcg16807', 'Seed', backSeed);
    angleStream = RandStream('mcg16807', 'Seed', backSeed+1);
    checkerSizeStream = RandStream('mcg16807', 'Seed', backSeed+2);
    
    N=100;
    
    rectSizeSeq = randperm(sizesStream, N);
    rectSizeSeq = mod(rectSizeSeq, 6)+1;
    
    angleSeq = randperm(angleStream, N);
    angleSeq = mod(angleSeq, 4);
    
    checkerSizesSeq = randperm(checkerSizeStream, N);
    checkerSizesSeq = mod(checkerSizesSeq, 7)+1;
    
for i=1:N
    
    objRect = GetRects(rectSizeSeq(i)*64, center1);
    backAngle = angleSeq(i)*90/5;
    barsWidth = 2^checkerSizesSeq(i);
    
    UflickerObj2( ...
        'objContrast', [.03], ...     % I put the contrasts in this order so that they will be shown (after randommization) in order of increasing contrast.
        'rects', objRect, ...
        'backMode', [0 0 1 0], ...
        'angle', backAngle, ...
        'backReverseFreq', 1, ...
        'barsWidth', barsWidth, ...
        'objJitterPeriod', 10, ...
        'presentationLength', 10, ...
        'movieDurationSecs', 10 ...
        );
end


%{
UflickerObj( ...
    'objContrast', [.03 ], ...     % I put the contrasts in this order so that they will be shown (after randommization) in order of increasing contrast.
    'repeatObjSeq', 1, ...
    'rects', objRects, ...
    'backMode', [0 0 1 1], ...
    'backReverseFreq', 1, ...
    'barsWidth', 8, ...
    'objJitterPeriod', 10, ...
    'backJitterPeriod', 10, ...
    'presentationLength', 10, ...
    'movieDurationSecs', 6000 ...
    );
%}
CreateStimuliLogWrite();

